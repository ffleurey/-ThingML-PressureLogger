<?xml version="1.0" encoding="ASCII"?>
<thingML:ThingMLModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:thingML="http://www.thingml.org/xtext/ThingML">
  <types xsi:type="thingML:ObjectType" name="MainFrame"/>
  <types xsi:type="thingML:Thing" name="JavaClient" includes="//@types.2">
    <annotations name="maven_dep" value="&lt;dependency>&#xA;&#x9;&lt;groupId>org.thingml&lt;/groupId>&#xA;&#x9;&lt;artifactId>pressure-sensor-ui&lt;/artifactId>&#xA;&#x9;&lt;version>1.0-SNAPSHOT&lt;/version>&#xA;&lt;/dependency>"/>
    <annotations name="java_features" value="org.thingml.pressuresensor.ui.MainFrame ui;"/>
    <ports xsi:type="thingML:ProvidedPort" name="sensor" receives="//@types.2/@messages.0"/>
    <behaviour name="SC" initial="//@types.1/@behaviour.0/@substate.0">
      <entry xsi:type="thingML:ActionBlock">
        <actions xsi:type="thingML:PrintAction">
          <msg xsi:type="thingML:StringLiteral" stringValue="Java Client Ready. Waiting for sensor data..."/>
        </actions>
        <actions xsi:type="thingML:ExternStatement" statement="ui = new org.thingml.pressuresensor.ui.MainFrame();"/>
        <actions xsi:type="thingML:ExternStatement" statement="java.awt.EventQueue.invokeLater(new Runnable() {&#xA;            &#x9;public void run() {&#xA;                &#x9;ui.setVisible(true);&#xA;            &#x9;}&#xA;        &#x9;});"/>
      </entry>
      <substate name="READY">
        <internal>
          <event xsi:type="thingML:ReceiveMessage" name="o" port="//@types.1/@ports.0" message="//@types.2/@messages.0"/>
          <action xsi:type="thingML:ActionBlock">
            <actions xsi:type="thingML:PrintAction">
              <msg xsi:type="thingML:PlusExpression">
                <lhs xsi:type="thingML:PlusExpression">
                  <lhs xsi:type="thingML:PlusExpression">
                    <lhs xsi:type="thingML:PlusExpression">
                      <lhs xsi:type="thingML:StringLiteral" stringValue="Pressure A="/>
                      <rhs xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.0"/>
                    </lhs>
                    <rhs xsi:type="thingML:StringLiteral" stringValue=" B="/>
                  </lhs>
                  <rhs xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.1"/>
                </lhs>
                <rhs xsi:type="thingML:StringLiteral" stringValue="\n"/>
              </msg>
            </actions>
            <actions xsi:type="thingML:ExternStatement" statement="ui.insertData(">
              <segments xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.0"/>
              <segments xsi:type="thingML:ExternExpression" expression=", ">
                <segments xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.1"/>
                <segments xsi:type="thingML:ExternExpression" expression=", ">
                  <segments xsi:type="thingML:MinusExpression">
                    <lhs xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.1"/>
                    <rhs xsi:type="thingML:EventReference" receiveMsg="//@types.1/@behaviour.0/@substate.0/@internal.0/@event.0" parameter="//@types.2/@messages.0/@parameters.0"/>
                  </segments>
                  <segments xsi:type="thingML:ExternExpression" expression=");"/>
                </segments>
              </segments>
            </actions>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingML:Thing" name="LoggerMsgs">
    <messages name="pressure">
      <annotations name="code" value="20"/>
      <parameters name="a">
        <typeRef type="//@types.13"/>
      </parameters>
      <parameters name="b">
        <typeRef type="//@types.13"/>
      </parameters>
    </messages>
  </types>
  <types xsi:type="thingML:Thing" name="TimerMsgs" fragment="true">
    <messages name="timer_start">
      <annotations name="timer_start" value="true"/>
      <parameters name="id">
        <typeRef type="//@types.7"/>
      </parameters>
      <parameters name="time">
        <typeRef type="//@types.12"/>
      </parameters>
    </messages>
    <messages name="timer_cancel">
      <annotations name="timer_cancel" value="true"/>
      <parameters name="id">
        <typeRef type="//@types.7"/>
      </parameters>
    </messages>
    <messages name="timer_timeout">
      <annotations name="timeout" value="true"/>
      <parameters name="id">
        <typeRef type="//@types.7"/>
      </parameters>
    </messages>
    <messages name="sample_clock">
      <annotations name="xms_tic" value="100"/>
    </messages>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Byte" ByteSize="1">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="byte"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Boolean" ByteSize="2">
    <annotations name="type_checker" value="Boolean"/>
    <annotations name="c_type" value="bool"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="boolean"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Integer" ByteSize="2">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="int"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="short"/>
    <annotations name="java_primitive" value="true"/>
    <annotations name="ros_type" value="int16"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="UInt8" ByteSize="1">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="short"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Int8" ByteSize="1">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="int8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="byte"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="UInt16" ByteSize="2">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="uint16_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="int"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Int16" ByteSize="2">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="int16_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="short"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Int32" ByteSize="4">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="int32_t"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="int"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="UInt32" ByteSize="4">
    <annotations name="c_type" value="uint32_t"/>
    <annotations name="java_type" value="long"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Long" ByteSize="4">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="int"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="ULong" ByteSize="4">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="unsigned long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="long"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Double" ByteSize="8">
    <annotations name="type_checker" value="Real"/>
    <annotations name="c_type" value="double"/>
    <annotations name="c_byte_size" value="8"/>
    <annotations name="java_type" value="float"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Float" ByteSize="8">
    <annotations name="type_checker" value="Real"/>
    <annotations name="c_type" value="float"/>
    <annotations name="c_byte_size" value="8"/>
    <annotations name="java_type" value="float"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="Char" ByteSize="1">
    <annotations name="type_checker" value="Character"/>
    <annotations name="c_type" value="char"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="char"/>
    <annotations name="js_type" value="char"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <types xsi:type="thingML:ObjectType" name="String">
    <annotations name="c_type" value="char *"/>
    <annotations name="c_byte_size" value="*"/>
    <annotations name="java_type" value="String"/>
    <annotations name="js_type" value="String"/>
  </types>
  <types xsi:type="thingML:Enumeration" name="DigitalState">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="java_type" value="byte"/>
    <annotations name="java_primitive" value="true"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="LOW">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="HIGH">
      <annotations name="enum_val" value="1"/>
    </literals>
  </types>
  <types xsi:type="thingML:PrimitiveType" name="LongLong" ByteSize="8">
    <annotations name="type_checker" value="Integer"/>
    <annotations name="c_type" value="long long"/>
    <annotations name="c_byte_size" value="8"/>
    <annotations name="java_type" value="long"/>
    <annotations name="java_primitive" value="true"/>
  </types>
  <protocols name="Serial">
    <annotations name="serializer" value="Binary"/>
    <annotations name="baudrate" value="115200"/>
    <annotations name="serial_path_to_device" value="/dev/ttyACM0"/>
  </protocols>
  <protocols name="Timer"/>
  <configs name="JavaClientGateway">
    <instances name="gw" type="//@types.1"/>
    <connectors xsi:type="thingML:ExternalConnector" inst="//@configs.0/@instances.0" port="//@types.1/@ports.0" protocol="//@protocols.0"/>
  </configs>
</thingML:ThingMLModel>
